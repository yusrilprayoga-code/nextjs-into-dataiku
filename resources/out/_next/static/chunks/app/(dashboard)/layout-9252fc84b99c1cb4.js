(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{5886:(e,s,l)=>{Promise.resolve().then(l.bind(l,6532))},6532:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>x});var t=l(5155),r=l(2115),a=l(2577),o=l(5695),n=l(6874),c=l.n(n);function i(){let{availableWells:e,selectedWells:s,toggleWellSelection:l,availableIntervals:n,selectedIntervals:i,toggleInterval:d,availableZones:u,selectedZones:x,toggleZone:h,wellColumns:g,plotType:m,setPlotType:b,selectedCustomColumns:p,toggleCustomColumn:f,fetchPlotData:y,isLoadingPlot:v,columnError:j}=(0,a.M)(),[N,w]=(0,r.useState)(!1),[k,H]=(0,r.useState)("markers"),R=(0,o.useRouter)();(0,r.useEffect)(()=>{w(!0)},[]);let L=(0,r.useMemo)(()=>{if(0===s.length)return{isLoading:!1,columns:[]};for(let e of s)if(!g["".concat(e,".csv")])return{isLoading:!0,columns:[]};let e=[...g["".concat(s[0],".csv")]],l=[...s.slice(1).reduce((e,s)=>{let l=g["".concat(s,".csv")];return e.filter(e=>l.includes(e))},e)],t=l.includes("NPHI"),r=l.includes("RHOB");t&&r&&(l=l.filter(e=>"NPHI"!==e&&"RHOB"!==e)).push("NPHI_RHOB");let a=l.includes("PHIE"),o=l.includes("PHIT");a&&o&&(l=l.filter(e=>"PHIE"!==e&&"PHIT"!==e)).push("PHIE","PHIE_PHIT");let n=l.includes("RT"),c=l.includes("RGSA");return n&&c&&(l=l.filter(e=>"RT"!==e&&"RGSA"!==e)).push("RT","RT_RGSA"),{isLoading:!1,columns:l=l.filter(e=>"DEPTH"!==e).sort()}},[s,g]),C=t=>{t?e.forEach(e=>{s.includes(e)||l(e)}):s.forEach(e=>l(e))},P=e=>{let s=(s,l,t)=>{e&&!l&&t(s),!e&&l&&t(s)};"markers"===k?n.forEach(e=>s(e,i.includes(e),d)):u.forEach(e=>s(e,x.includes(e),h))},E=e=>{e?L.columns.forEach(e=>{p.includes(e)||f(e)}):p.forEach(e=>f(e))},I=e=>{H(e),"zones"===e?i.forEach(e=>d(e)):x.forEach(e=>h(e))};return(0,t.jsx)("aside",{className:"w-52 bg-gray-100 flex flex-col gap-2 p-2 border-r border-gray-300 h-screen",children:(0,t.jsxs)("div",{className:"flex flex-col h-full gap-2",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-gray-800 px-2 py-1",children:"Data Selection"}),(0,t.jsxs)("div",{className:"flex flex-col bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-1.5 bg-gray-50 border-b",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-3 w-3 rounded border-gray-300 text-blue-600 focus:ring-1 focus:ring-blue-500",checked:N&&e.length>0&&s.length===e.length,onChange:e=>C(e.target.checked)}),(0,t.jsx)("h3",{className:"text-xs font-bold text-gray-700",children:"Wells"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 ml-auto",children:[s.length,"/",e.length]})]}),(0,t.jsx)("div",{className:"overflow-y-auto max-h-48 p-1",children:(0,t.jsx)("div",{className:"flex flex-col gap-0.5",children:N?e.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 px-2 py-0.5 rounded hover:bg-gray-50 cursor-pointer text-xs",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-3 w-3 rounded border-gray-300 text-blue-600 focus:ring-1 focus:ring-blue-500",checked:s.includes(e),onChange:()=>l(e)}),(0,t.jsx)("span",{className:"truncate",children:e})]},e)):(0,t.jsx)("div",{children:"Loading..."})})})]}),(0,t.jsxs)("div",{className:"flex flex-col bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-1.5 bg-gray-50 border-b",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-3 w-3 rounded border-gray-300 text-blue-600 focus:ring-1 focus:ring-blue-500",checked:N&&("markers"===k?n.length>0&&i.length===n.length:u.length>0&&x.length===u.length),onChange:e=>P(e.target.checked)}),(0,t.jsx)("h3",{className:"text-xs font-bold text-gray-700",children:"markers"===k?"Markers":"Zones"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-auto",children:"markers"===k?"".concat(i.length,"/").concat(n.length):"".concat(x.length,"/").concat(u.length)})]}),(0,t.jsxs)("div",{className:"flex bg-gray-50 border-b",children:[(0,t.jsx)("button",{type:"button",onClick:()=>I("markers"),className:"flex-1 px-2 py-1 text-xs font-medium transition-colors ".concat("markers"===k?"bg-blue-100 text-blue-700 border-b-2 border-blue-500":"text-gray-600 hover:text-gray-800"),children:"Markers"}),(0,t.jsx)("button",{type:"button",onClick:()=>I("zones"),className:"flex-1 px-2 py-1 text-xs font-medium transition-colors ".concat("zones"===k?"bg-blue-100 text-blue-700 border-b-2 border-blue-500":"text-gray-600 hover:text-gray-800"),children:"Zones"})]}),(0,t.jsx)("div",{className:"overflow-y-auto p-1 max-h-32",children:(0,t.jsx)("div",{className:"flex flex-col gap-0.5",children:"markers"===k?n.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 px-2 py-0.5 rounded hover:bg-gray-50 cursor-pointer text-xs",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-3 w-3 rounded border-gray-300 text-blue-600 focus:ring-1 focus:ring-blue-500",checked:i.includes(e),onChange:()=>d(e)}),(0,t.jsx)("span",{className:"truncate",children:e})]},e)):0===u.length?(0,t.jsx)("div",{className:"flex items-center justify-center py-2 text-xs text-gray-500",children:"No zones available"}):u.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 px-2 py-0.5 rounded hover:bg-gray-50 cursor-pointer text-xs",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-3 w-3 rounded border-gray-300 text-blue-600 focus:ring-1 focus:ring-blue-500",checked:x.includes(e),onChange:()=>h(e)}),(0,t.jsx)("span",{className:"truncate",children:e})]},e))})})]}),(0,t.jsx)("div",{className:"flex-grow"}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-2 flex flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-xs font-bold text-gray-700",children:"Display"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-600 mb-1 block",children:"Plot Layout"}),(0,t.jsxs)("select",{value:m,onChange:e=>b(e.target.value),className:"text-xs w-full bg-white border border-gray-200 rounded p-1 focus:ring-1 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"default",children:"Layout Default"}),(0,t.jsx)("option",{value:"custom",children:"Layout Custom"}),(0,t.jsx)("option",{value:"normalization",children:"Layout Normalisasi"}),(0,t.jsx)("option",{value:"smoothing",children:"Layout Smoothing"}),(0,t.jsx)("option",{value:"vsh",children:"Layout VSH"}),(0,t.jsx)("option",{value:"porosity",children:"Layout Porosity"}),(0,t.jsx)("option",{value:"sw",children:"Layout SW"}),(0,t.jsx)("option",{value:"rwa",children:"Layout RWA"}),(0,t.jsx)("option",{value:"module2",children:"Layout Module 2"}),(0,t.jsx)("option",{value:"gsa",children:"Layout GSA"}),(0,t.jsx)("option",{value:"rpbe-rgbe",children:"Layout RPBE RGBE"}),(0,t.jsx)("option",{value:"iqual",children:"Layout IQUAL"}),(0,t.jsx)("option",{value:"swgrad",children:"Layout SWGRAD"}),(0,t.jsx)("option",{value:"dns-dnsv",children:"Layout DNS-DNSV"}),(0,t.jsx)("option",{value:"rt-ro",children:"Layout RT-RO"}),(0,t.jsx)("option",{value:"module3",children:"Layout Module 3"})]})]}),"custom"===m&&(0,t.jsxs)("div",{className:"flex flex-col border border-gray-200 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-1.5 bg-gray-50 border-b",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-3 w-3 rounded border-gray-300 text-blue-600 focus:ring-1 focus:ring-blue-500",checked:!L.isLoading&&L.columns.length>0&&p.length===L.columns.length,onChange:e=>E(e.target.checked),disabled:L.isLoading||0===L.columns.length}),(0,t.jsx)("h3",{className:"text-xs font-bold text-gray-700",children:"Custom Curves"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-auto",children:!L.isLoading&&"".concat(p.length,"/").concat(L.columns.length)})]}),(0,t.jsxs)("div",{className:"overflow-y-auto max-h-60 p-1",children:[" ",j?(0,t.jsx)("div",{className:"p-2 text-xs text-red-600 text-center break-words",children:j}):L.isLoading?(0,t.jsx)("div",{className:"p-2 text-xs text-gray-500 text-center",children:"Loading curves..."}):L.columns.length>0?L.columns.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 px-2 py-0.5 rounded hover:bg-gray-50 cursor-pointer text-xs",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-3 w-3 rounded border-gray-300 text-blue-600 focus:ring-1 focus:ring-blue-500",checked:p.includes(e),onChange:()=>f(e)}),(0,t.jsx)("span",{className:"truncate",children:e})]},e)):(0,t.jsx)("div",{className:"p-2 text-xs text-gray-500 text-center",children:s.length>0?"No common curves found.":"Select wells first."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-600 mb-1 block",children:"Analysis"}),(0,t.jsx)("select",{onChange:e=>{let s=e.target.value;if(!s)return;let[l,t]=s.split("-");R.push("/dashboard/modules/crossplot?y=".concat(l,"&x=").concat(t)),e.target.value=""},className:"text-xs w-full bg-white border border-gray-200 rounded p-1 focus:ring-1 focus:ring-blue-500",children:[{label:"Pilih Crossplot...",value:""},{label:"Crossplot GR vs NPHI",value:"GR-NPHI"},{label:"Crossplot GR vs RHOB",value:"GR-RHOB"},{label:"Crossplot RHOB vs NPHI",value:"RHOB-NPHI"},{label:"Crossplot RT vs GR",value:"RT-GR"},{label:"Crossplot PHIE vs VSH",value:"PHIE-VSH"},{label:"Crossplot SW vs PHIE",value:"SW-PHIE"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(c(),{href:"/dashboard/modules/histogram",className:"text-xs w-full bg-gray-50 border border-gray-200 rounded p-1.5 text-center font-medium hover:bg-gray-100 focus:ring-1 focus:ring-blue-500 transition-colors",children:"Histogram"}),(0,t.jsx)("button",{type:"button",onClick:()=>{y()},disabled:v,className:"mt-2 w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Generate Plot"})]})]})})}var d=l(2431),u=l(1713);function x(e){let{children:s}=e;return(0,t.jsx)(a.q,{children:(0,t.jsx)(h,{children:s})})}function h(e){let{children:s}=e,l=(0,o.usePathname)().split("/").pop()||null;return(0,t.jsxs)("div",{className:"flex h-[calc(100vh-80px)] w-full bg-gray-100 font-sans text-gray-800",children:[(0,t.jsx)(i,{}),(0,t.jsx)(u.A,{children:s}),(0,t.jsx)(d.A,{activeButton:l})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[9,672,723,441,684,358],()=>s(5886)),_N_E=e.O()}]);