(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{7350:(e,t,a)=>{"use strict";a.d(t,{default:()=>Q});var l=a(5155),n=a(2115),r=a(2577),s=a(1154),o=a(1243),i=a(5028),d=a(9509);let c=(0,i.default)(()=>Promise.all([a.e(840),a.e(134),a.e(133)]).then(a.bind(a,1514)),{loadableGenerated:{webpack:()=>[1514]},ssr:!1}),m=e=>{let{label:t,children:a}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),a]})};var u=a(8335),b=a(5695);let p=(0,i.default)(()=>Promise.all([a.e(840),a.e(134),a.e(133)]).then(a.bind(a,1514)),{loadableGenerated:{webpack:()=>[1514]},ssr:!1}),h=e=>{let{label:t,children:a}=e;return(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),a]})};var x=a(9509);let g=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l=new Set(["NORMALIZE_OPT","LOG_IN","LOG_OUT","LOW_REF","HIGH_REF","LOW_IN","HIGH_IN"]),n={NORMALIZE_OPT:"MIN-MAX",LOG_IN:"GR",LOW_REF:40,HIGH_REF:140,LOW_IN:5,HIGH_IN:95};return n.LOG_OUT="".concat(n.LOG_IN,"_NO"),[{id:1,location:"Parameter",mode:"Input",comment:"Normalization: Min-Max",unit:"ALPHA*15",name:"NORMALIZE_OPT",isEnabled:!0},{id:2,location:"Constant",mode:"Input",comment:"Input low log value",unit:"",name:"LOW_IN",isEnabled:!0},{id:3,location:"Constant",mode:"Input",comment:"Input high log value",unit:"",name:"HIGH_IN",isEnabled:!0},{id:4,location:"Constant",mode:"Input",comment:"Reference log low value",unit:"",name:"LOW_REF",isEnabled:!0},{id:5,location:"Constant",mode:"Input",comment:"Reference log high value",unit:"",name:"HIGH_REF",isEnabled:!0},{id:6,location:"Log",mode:"Input",comment:"Input Log",unit:"LOG_IN",isEnabled:!0,name:"LOG_IN"},{id:7,location:"Log",mode:"Output",comment:"Output Log Name",unit:"LOG_OUT",name:"LOG_OUT",isEnabled:!0}].filter(e=>l.has(e.name)).map(e=>({...e,values:a(n[e.name]||"")}))};var f=a(6252),y=a(9509);let N=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={OPT_GR:"LINEAR",GR_MA:30,GR_SH:120,GR:"GR",VSH_GR:"VSH_GR"};return[{id:1,location:"Interval",mode:"In_Out",comment:"Option for VSH from gamma ray",unit:"ALPHA*8",name:"OPT_GR",isEnabled:!0},{id:2,location:"Interval",mode:"In_Out",comment:"Gamma ray matrix (clean)",unit:"GAPI",name:"GR_MA",isEnabled:!0},{id:3,location:"Interval",mode:"In_Out",comment:"Gamma ray shale",unit:"GAPI",name:"GR_SH",isEnabled:!0},{id:4,location:"Log",mode:"Input",comment:"Gamma ray log",unit:"GAPI",name:"GR",isEnabled:!0},{id:5,location:"Log",mode:"Output",comment:"VSH from gamma ray",unit:"V/V",name:"VSH_GR",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var j=a(9509);let v=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={RHOB_MA:2.65,RHOB_SH:2.61,RHOB_FL:.85,NPHI_MA:-.02,NPHI_SH:.398,NPHI_FL:.85,RHOB:"RHOB",NPHI:"NPHI",VSH:"VSH_DN"};return[{id:1,location:"Interval",mode:"In_Out",comment:"Matrix density",unit:"G/C3",name:"RHOB_MA",isEnabled:!0},{id:2,location:"Interval",mode:"In_Out",comment:"Shale density",unit:"G/C3",name:"RHOB_SH",isEnabled:!0},{id:3,location:"Interval",mode:"In_Out",comment:"Fluid density",unit:"G/C3",name:"RHOB_FL",isEnabled:!0},{id:4,location:"Interval",mode:"In_Out",comment:"Matrix neutron porosity",unit:"V/V",name:"NPHI_MA",isEnabled:!0},{id:5,location:"Interval",mode:"In_Out",comment:"Shale neutron porosity",unit:"V/V",name:"NPHI_SH",isEnabled:!0},{id:6,location:"Interval",mode:"In_Out",comment:"Fluid neutron porosity",unit:"V/V",name:"NPHI_FL",isEnabled:!0},{id:9,location:"Log",mode:"Input",comment:"Density log",unit:"G/C3",name:"RHOB",isEnabled:!0},{id:10,location:"Log",mode:"Input",comment:"Neutron porosity log",unit:"V/V",name:"NPHI",isEnabled:!0},{id:11,location:"Log",mode:"Output",comment:"VSH from densityâ€‘neutron",unit:"V/V",name:"VSH",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var w=a(9509);let E=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={RHOB_FL:1,RHOB_SH:2.45,RHOB_DSH:2.6,NPHI_SH:.35,PHIE_MAX:.3,RHOB_MA_BASE:2.65,RHOB_W:1,RHOB_MAX:4};return[{id:1,location:"Constant",mode:"Input",comment:"Fluid Density (e.g., 1.00 for water)",unit:"g/cc",name:"RHOB_FL",isEnabled:!0},{id:2,location:"Constant",mode:"Input",comment:"Shale Density",unit:"g/cc",name:"RHOB_SH",isEnabled:!0},{id:3,location:"Constant",mode:"Input",comment:"Dry Shale Density",unit:"g/cc",name:"RHOB_DSH",isEnabled:!0},{id:4,location:"Constant",mode:"Input",comment:"Shale Neutron Porosity",unit:"v/v",name:"NPHI_SH",isEnabled:!0},{id:5,location:"Constant",mode:"Input",comment:"Maximum allowed PHIE",unit:"v/v",name:"PHIE_MAX",isEnabled:!0},{id:6,location:"Constant",mode:"Input",comment:"Base Rock Matrix Density (Sandstone)",unit:"kg/m3",name:"RHOB_MA_BASE",isEnabled:!0},{id:7,location:"Constant",mode:"Input",comment:"Water Density",unit:"g/cc",name:"RHOB_W",isEnabled:!0},{id:8,location:"Constant",mode:"Input",comment:"Max Extreme Density (Sandstone)",unit:"kg/m3",name:"RHOB_MAX",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var I=a(9509);let _=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={RWS:.529,RWT:227,FTEMP:80,RT_SH:2.2,A:1,M:2,N:2,RT:"RT",PHIE:"PHIE",SW:"SW",VSH:"VSH"};return[{id:1,location:"Interval",mode:"In_Out",comment:"Tortuosity constant",unit:"",name:"A",isEnabled:!0},{id:2,location:"Interval",mode:"In_Out",comment:"Cementation Factor",unit:"",name:"M",isEnabled:!0},{id:3,location:"Interval",mode:"In_Out",comment:"Saturation exponent",unit:"",name:"N",isEnabled:!0},{id:4,location:"Interval",mode:"In_Out",comment:"Resistivity of formation water",unit:"OHMM",name:"RWS",isEnabled:!0},{id:5,location:"Interval",mode:"In_Out",comment:"Temperature of RWS value",unit:"DEGC",name:"RWT",isEnabled:!0},{id:6,location:"Interval",mode:"In_Out",comment:"Shale resistivity",unit:"OHMM",name:"RT_SH",isEnabled:!0},{id:7,location:"Log",mode:"Input",comment:"True formation resistivity",unit:"OHMM",name:"RT",isEnabled:!0},{id:8,location:"Log",mode:"Input",comment:"Limited effective porosity",unit:"V/V",name:"PHIE",isEnabled:!0},{id:9,location:"Log",mode:"Input",comment:"Limited volume of shale",unit:"V/V",name:"VSH",isEnabled:!0},{id:10,location:"Log",mode:"Input",comment:"Formation temperature",unit:"DEGF",name:"FTEMP",isEnabled:!0},{id:11,location:"Log",mode:"Output",comment:"SW from Indonesia",unit:"V/V",name:"SW",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var S=a(9509);let R=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={RT_SH:2.2,A:1,M:2};return[{id:1,location:"Interval",mode:"In_Out",comment:"Tortuosity constant",unit:"",name:"A",isEnabled:!0},{id:2,location:"Interval",mode:"In_Out",comment:"Cementation Factor",unit:"",name:"M",isEnabled:!0},{id:3,location:"Interval",mode:"In_Out",comment:"Shale resistivity",unit:"OHMM",name:"RT_SH",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var O=a(3483),k=a(9509);let P=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={DEPTH:"DEPTH",NPHI_IN:"NPHI",RHOB_IN:"RHOB",DNS:"DNS"};return[{id:1,location:"Log",mode:"Input",comment:"Downhole depth",unit:"METRES",name:"DEPTH",isEnabled:!0},{id:2,location:"Log",mode:"Input",comment:"Neutron Porosity",unit:"V/V",name:"NPHI_IN",isEnabled:!0},{id:3,location:"Log",mode:"Input",comment:"Bulk Density",unit:"K/M3",name:"RHOB_IN",isEnabled:!0},{id:4,location:"Log",mode:"Output",comment:"D-N Separation",unit:"",name:"DNS",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var C=a(9509);let H=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={DEPTH:"DEPTH",GR_IN:"GR",IQUAL_IN:"IQUAL",PHIE_IN:"PHIE",RT_IN:"RT",RGBE_OUT:"RGBE",RPBE_OUT:"RPBE",R_RGBE_OUT:"R_RGBE",R_RPBE_OUT:"R_RPBE",NOD_OUT:"NOD"};return[{id:1,location:"Log",mode:"Input",comment:"Downhole depth",unit:"",name:"DEPTH",isEnabled:!0},{id:2,location:"Log",mode:"Input",comment:"Gamma Ray",unit:"",name:"GR_IN",isEnabled:!0},{id:3,location:"Log",mode:"Input",comment:"Reservoir quality",unit:"",name:"IQUAL_IN",isEnabled:!0},{id:4,location:"Log",mode:"Input",comment:"Porosity",unit:"",name:"PHIE_IN",isEnabled:!0},{id:5,location:"Log",mode:"Input",comment:"Resistivity",unit:"",name:"RT_IN",isEnabled:!0},{id:6,location:"Log",mode:"Output",comment:"RGBE",unit:"",name:"RGBE_OUT",isEnabled:!0},{id:7,location:"Log",mode:"Output",comment:"RPBE",unit:"",name:"RPBE_OUT",isEnabled:!0},{id:8,location:"Log",mode:"Output",comment:"R_RGBE_OUT",unit:"",name:"R_RGBE_OUT",isEnabled:!0},{id:9,location:"Log",mode:"Output",comment:"R_RPBE_OUT",unit:"",name:"R_RPBE_OUT",isEnabled:!0},{id:10,location:"Log",mode:"Output",comment:"NOD_OUT",unit:"",name:"NOD_OUT",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var T=a(9509);let L=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={A:1,M:2,N:2,RT_SH:2.2,RWA:"RWA_FULL",PHIE:"PHIE",VSH:"VSH",RT:"RT",GROUP_ID:"GROUP_ID",RT_R0_GRAD:"RT_R0_GRAD",PHIE_RTR0_GRAD:"PHIE_RTR0_GRAD",FLUID_RTROPHIE:"FLUID_RTROPHIE",RT_RO:"RT_RO"};return[{id:1,location:"Constant",mode:"Input",comment:"Coeff for saturation equation: A",unit:"",name:"A",isEnabled:!0},{id:2,location:"Constant",mode:"Input",comment:"Coeff for saturation equation: M",unit:"",name:"M",isEnabled:!0},{id:3,location:"Constant",mode:"Input",comment:"Coeff for saturation equation: N",unit:"",name:"N",isEnabled:!0},{id:4,location:"Constant",mode:"Input",comment:"Shale Resistivity",unit:"OHMM",name:"RT_SH",isEnabled:!0},{id:5,location:"Log",mode:"Input",comment:"Apparent Water Resistivity",unit:"OHMM",name:"RWA",isEnabled:!0},{id:6,location:"Log",mode:"Input",comment:"Effective Porosity",unit:"V/V",name:"PHIE",isEnabled:!0},{id:7,location:"Log",mode:"Input",comment:"Volume of Shale",unit:"V/V",name:"VSH",isEnabled:!0},{id:8,location:"Log",mode:"Input",comment:"Unflushed Zone Resistivity",unit:"OHMM",name:"RT",isEnabled:!0},{id:9,location:"Log",mode:"Output",comment:"Grouping ID based on IQUAL",unit:"",name:"GROUP_ID",isEnabled:!0},{id:10,location:"Log",mode:"Output",comment:"RT vs R0 Gradient",unit:"",name:"RT_R0_GRAD",isEnabled:!0},{id:11,location:"Log",mode:"Output",comment:"PHIE vs RT-R0 Gradient",unit:"",name:"PHIE_RTR0_GRAD",isEnabled:!0},{id:12,location:"Log",mode:"Output",comment:"Fluid Type (Gas/Water)",unit:"",name:"FLUID_RTROPHIE",isEnabled:!0},{id:13,location:"Log",mode:"Output",comment:"RT - R0",unit:"OHMM",name:"RT_RO",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var A=a(9509);let M=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={RTSH:2,A:1,M:2,N:2,PHIE:"PHIE",VSH:"VSH",RT:"RT",FTEMP:"FTEMP",SWGRAD:"SWGRAD",SW:"SWGRAD_ARRAY"};return[{id:1,location:"Interval",mode:"Input",comment:"Shale resistivity",unit:"OHMM",name:"RTSH",isEnabled:!0},{id:2,location:"Interval",mode:"Input",comment:"Coeff for saturation equation: A",unit:"",name:"A",isEnabled:!0},{id:3,location:"Interval",mode:"Input",comment:"Coeff for saturation equation: M",unit:"",name:"M",isEnabled:!0},{id:4,location:"Interval",mode:"Input",comment:"Coeff for saturation equation: N",unit:"",name:"N",isEnabled:!0},{id:5,location:"Log",mode:"Input",comment:"Effective Porosity",unit:"V/V",name:"PHIE",isEnabled:!0},{id:6,location:"Log",mode:"Input",comment:"Volume of wetclay",unit:"V/V",name:"VSH",isEnabled:!0},{id:7,location:"Log",mode:"Input",comment:"Unflushed Zone Resistivity",unit:"OHMM",name:"RT",isEnabled:!0},{id:8,location:"Log",mode:"Input",comment:"Formation temperature",unit:"DEGC",name:"FTEMP",isEnabled:!0},{id:9,location:"Log",mode:"Output",comment:"Output Sw gradient",unit:"V/V",name:"SWGRAD",isEnabled:!0},{id:10,location:"Log",mode:"Output",comment:"Output Sw Array",unit:"V/V",name:"SW",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var G=a(9521),U=a(9509);let W=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={METHOD:"MOVING_AVG",WINDOW:5,LOG_IN:"GR"};return l.LOG_OUT="".concat(l.LOG_IN,"_SM"),[{id:1,location:"Parameter",mode:"Input",comment:"Smoothing method",unit:"",name:"METHOD",isEnabled:!0},{id:2,location:"Parameter",mode:"Input",comment:"Size of smooth window",unit:"",name:"WINDOW",isEnabled:!0},{id:3,location:"Log",mode:"Input",comment:"Log to be smoothed",unit:"",name:"LOG_IN",isEnabled:!0},{id:4,location:"Log",mode:"Output",comment:"Smoothed log",unit:"",name:"LOG_OUT",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))};var D=a(9509);let V=(0,i.default)(()=>Promise.all([a.e(840),a.e(134),a.e(133)]).then(a.bind(a,1514)),{loadableGenerated:{webpack:()=>[1514]},ssr:!1});var B=a(6850),z=a(9509);let F=(e,t)=>{let a=e.length>0?e:["default"],l=e=>Object.fromEntries(a.map(t=>[t,e])),n={SLIDING_WINDOW:30,RESWAT_MAX:20,RESWAT_MIN:.1,NPHIWAT_MAX:.55,NPHIWAT_MIN:0,RHOBWAT_MAX:2.8,RHOBWAT_MIN:2,GR:"GR",DENS:"RHOB",NEUT:"NPHI",RES:"RT"};return[{id:1,location:"Constant",mode:"Input",comment:"Window wide of sliding average",unit:"METRES",name:"SLIDING_WINDOW",isEnabled:!0},{id:2,location:"Constant",mode:"Input",comment:"Maximum resistivity in water zone",unit:"OHMM",name:"RESWAT_MAX",isEnabled:!0},{id:3,location:"Constant",mode:"Input",comment:"Minimum resistivity in water zone",unit:"OHMM",name:"RESWAT_MIN",isEnabled:!0},{id:4,location:"Constant",mode:"Input",comment:"Maximum hydrogen index in water zone",unit:"OHMM",name:"NPHIWAT_MAX",isEnabled:!0},{id:5,location:"Constant",mode:"Input",comment:"Minimum hydrogen index in water zone",unit:"OHMM",name:"NPHIWAT_MIN",isEnabled:!0},{id:6,location:"Constant",mode:"Input",comment:"Maximum density in water zone",unit:"OHMM",name:"RHOBWAT_MAX",isEnabled:!0},{id:7,location:"Constant",mode:"Input",comment:"Minimum density in water zone",unit:"OHMM",name:"RHOBWAT_MIN",isEnabled:!0},{id:8,location:"Log",mode:"Input",comment:"Input gamma ray log",unit:"GAPI",name:"GR",isEnabled:!0},{id:9,location:"Log",mode:"Input",comment:"Input density log",unit:"G/C3",name:"DENS",isEnabled:!0},{id:10,location:"Log",mode:"Input",comment:"Input neutron log",unit:"V/V",name:"NEUT",isEnabled:!0},{id:11,location:"Log",mode:"Input",comment:"Input resistivity log",unit:"OHMM",name:"RES",isEnabled:!0}].filter(e=>t.includes(e.name)).map(e=>({...e,values:l(n[e.name]||"")}))};function X(e){let{moduleTitle:t,apiEndpoint:a,relevantParams:o}=e,{selectedWells:i,selectedIntervals:d,wellColumns:c,selectedZones:m}=(0,r.M)(),p=(0,b.useRouter)(),[h,x]=(0,n.useState)([]),[g,f]=(0,n.useState)(!1),[y,N]=(0,n.useState)({}),j=m.length>0?m:d,v=m.length>0,{wellsDir:w}=(0,u.m)();(0,n.useEffect)(()=>{x(F(m.length>0?m:d,o))},[d,m,o]);let E=(0,n.useMemo)(()=>i&&0!==i.length?[...new Set(i.flatMap(e=>c[e]||[]))]:[],[i,c]),I=(e,t,a)=>{x(l=>l.map(l=>{if(l.id!==e)return l;if(y[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},_=(e,t)=>{N(a=>({...a,[e]:t}))},S=async e=>{e.preventDefault(),f(!0);let t=v?m[0]||"default":d[0]||"default",l=h.filter(e=>e.isEnabled).reduce((e,a)=>{let l=a.values[t]||a.values[Object.keys(a.values)[0]];return e[a.name]=l,e},{}),n="".concat(z.env.NEXT_PUBLIC_API_URL).concat(a);try{let e=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:l,full_path:w,selected_wells:i,selected_intervals:v?[]:d,selected_zones:v?m:[]})});if(!e.ok)throw Error((await e.json()).error||"Server error");let t=await e.json();alert(t.message||"Proses kalkulasi berhasil!"),p.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{f(!1)}},R=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}},O=v?m:d;return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:t}),(0,l.jsxs)("form",{onSubmit:S,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",i.join(", ")||"N/A"," /",v?"Zones":"Intervals",": ",j.length," selected"]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>p.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700",disabled:g,children:g?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e)),O.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:h.map(e=>(0,l.jsxs)("tr",{className:"border-b ".concat(R(e.location,e.mode)),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center ".concat(R(e.location,e.mode)),children:e.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap ".concat(R(e.location,e.mode)),children:e.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap ".concat(R(e.location,e.mode)),children:e.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r max-w-xs whitespace-normal ".concat(R(e.location,e.mode)),children:e.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap ".concat(R(e.location,e.mode)),children:e.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold whitespace-nowrap ".concat(R(e.location,e.mode)),children:e.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center ".concat(R(e.location,e.mode)),children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded",checked:!!y[e.id],onChange:t=>_(e.id,t.target.checked)})}),O.map(t=>{var a;let n=null!=(a=e.values[t])?a:"",r=["GR","DENS","NEUT","RES"].includes(e.name),s=E;return"GR"===e.name?s=E.filter(e=>e.includes("GR")):"DENS"===e.name?s=E.filter(e=>e.includes("RHOB")):"NEUT"===e.name?s=E.filter(e=>e.includes("NPHI")):"RES"===e.name&&(s=E.filter(e=>e.includes("RT"))),(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:r?(0,l.jsxs)("select",{value:String(n),onChange:a=>I(e.id,t,a.target.value),className:"w-full p-1 bg-white",children:[!s.includes(String(n))&&(0,l.jsx)("option",{value:String(n),children:String(n)}),s.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):(0,l.jsx)("input",{type:"text",value:String(n),onChange:a=>I(e.id,t,a.target.value),className:"w-full min-w-[100px] p-1 bg-white"})},t)})]},e.id))})]})})})]})]})}var J=a(9509);let Z=e=>{let t=e.length>0?e:["default"],a=e=>Object.fromEntries(t.map(t=>[t,e])),l={RWS:.529,RWT:227,FTEMP:80,RT_SH:2.2,A:1,M:2,N:2,RT:"RT",PHIE:"PHIE",SW:"SW",VSH:"VSH"};return[{id:1,location:"Interval",mode:"In_Out",comment:"Tortuosity constant",unit:"",name:"A",isEnabled:!0},{id:2,location:"Interval",mode:"In_Out",comment:"Cementation Factor",unit:"",name:"M",isEnabled:!0},{id:3,location:"Interval",mode:"In_Out",comment:"Saturation exponent",unit:"",name:"N",isEnabled:!0},{id:4,location:"Interval",mode:"In_Out",comment:"Resistivity of formation water",unit:"OHMM",name:"RWS",isEnabled:!0},{id:5,location:"Interval",mode:"In_Out",comment:"Temperature of RWS value",unit:"DEGC",name:"RWT",isEnabled:!0},{id:6,location:"Interval",mode:"In_Out",comment:"Shale resistivity",unit:"OHMM",name:"RT_SH",isEnabled:!0},{id:7,location:"Log",mode:"Input",comment:"True formation resistivity",unit:"OHMM",name:"RT",isEnabled:!0},{id:8,location:"Log",mode:"Input",comment:"Limited effective porosity",unit:"V/V",name:"PHIE",isEnabled:!0},{id:9,location:"Log",mode:"Input",comment:"Limited volume of shale",unit:"V/V",name:"VSH",isEnabled:!0},{id:10,location:"Log",mode:"Input",comment:"Formation temperature",unit:"DEGF",name:"FTEMP",isEnabled:!0},{id:11,location:"Log",mode:"Output",comment:"SW from Indonesia",unit:"V/V",name:"SW",isEnabled:!0}].map(e=>({...e,values:a(l[e.name]||"")}))},q=e=>{let{moduleName:t}=e;return(0,l.jsx)("div",{className:"h-full p-4 md:p-6 bg-gray-50",children:(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-red-50 text-red-700",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Module Not Found"}),(0,l.jsxs)("p",{children:['Parameter form for "',t,'" not found or not registered.']}),(0,l.jsx)("button",{onClick:()=>window.history.back(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"})]})})},K={histogram:function(){let{selectedWells:e,wellColumns:t,selectedIntervals:a}=(0,r.M)(),[i,u]=(0,n.useState)(""),[b,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)(null),[g,f]=(0,n.useState)(null),y=(0,n.useMemo)(()=>{if(console.log("selectedWells:",e),console.log("wellColumns:",t),0===e.length||0===Object.keys(t).length)return[];let a=new Set;e.forEach(e=>{let l=t[e]||t["".concat(e,".csv")];if(!l){let a=Object.keys(t).find(t=>t.includes(e)||t.replace(".csv","")===e);a&&(l=t[a])}l&&Array.isArray(l)&&l.forEach(e=>a.add(e))});let l=new Set(["MARKER","STRUKTUR","WELL_NAME","SP","DEPTH","CALI"]),n=Array.from(a).filter(e=>!l.has(e));return console.log("finalLogs:",n),n},[e,t]);(0,n.useEffect)(()=>{u(e=>0===y.length?"":e&&y.includes(e)?e:y[0])},[y]);let N=async t=>{if(t.preventDefault(),!i)return void alert("Please select a log to analyze.");p(!0),f(null),x(null);try{let t=d.env.NEXT_PUBLIC_API_URL||"http://127.0.0.1:5001",l=await fetch("".concat(t,"/api/get-histogram-plot"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected_wells:e,log_column:i,selected_intervals:a})});if(!l.ok){let e=await l.json().catch(()=>null);throw Error((null==e?void 0:e.error)||"Server error")}let n=await l.json(),r="string"==typeof n?JSON.parse(n):n;x(r)}catch(e){f(e instanceof Error?e.message:"An unknown error occurred")}finally{p(!1)}};return(0,l.jsxs)("div",{className:"p-4 md:p-8 min-h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex-shrink-0",children:"Histogram Analysis"}),(0,l.jsxs)("form",{onSubmit:N,className:"flex-shrink-0",children:[(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50 space-y-4",children:[(0,l.jsxs)("p",{className:"text-sm font-semibold",children:["Wells Selected: ",e.join(", ")||"N/A"," / Intervals: ",a.length," selected"]}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,l.jsx)(m,{label:"Select Log to Analyze",children:(0,l.jsxs)("select",{value:i,onChange:e=>u(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm",disabled:0===y.length,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:0===y.length?"No logs available":"Select a log..."}),y.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})})]}),(0,l.jsx)("div",{className:"flex justify-end gap-2 pt-4 mt-4 border-t",children:(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white bg-blue-600 font-semibold",disabled:b||0===e.length||!i,children:b?(0,l.jsx)(s.A,{className:"animate-spin"}):"Generate"})})]}),(0,l.jsx)("div",{className:"flex justify-center items-center mt-6",children:(0,l.jsxs)("div",{className:"w-full aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center p-4",children:[b&&(0,l.jsxs)("div",{className:"text-center text-gray-500",children:[(0,l.jsx)(s.A,{className:"animate-spin h-8 w-8 mx-auto mb-2"}),"Generating plot..."]}),g&&(0,l.jsxs)("div",{className:"text-center text-red-600 p-4",children:[(0,l.jsx)(o.A,{className:"mx-auto h-8 w-8 mb-2"}),"Error: ",g]}),!b&&!g&&h&&(0,l.jsx)(c,{data:h.data,layout:h.layout,style:{width:"100%",height:"100%"},config:{responsive:!0},useResizeHandler:!0}),!b&&!g&&!h&&(0,l.jsx)("div",{className:"text-center text-gray-400",children:"Histogram will be displayed here."})]})})]})},crossplot:function(){let{selectedWells:e,selectedIntervals:t,wellColumns:a}=(0,r.M)(),{vshDNParams:i,setVshDNParams:d,vshParams:c,setVshParams:m,wellsDir:x}=(0,u.m)(),g=(0,b.useSearchParams)(),[f,y]=(0,n.useState)(""),[N,j]=(0,n.useState)(""),[v,w]=(0,n.useState)(null),[E,I]=(0,n.useState)(!1),[_,S]=(0,n.useState)(null),R=(0,n.useMemo)(()=>{if(0===e.length||0===Object.keys(a).length)return[];let t=e.flatMap(e=>a[e]||[]),l=new Set(["MARKER","STRUKTUR","WELL_NAME","DEPTH","DEPT"]);return[...new Set(t)].filter(e=>!l.has(e))},[e,a]),O=(0,n.useCallback)(async(a,l)=>{if(0===e.length||!a||!l)return;I(!0),S(null),w(null);let n={selected_wells:e,selected_intervals:t,x_col:a,y_col:l,...i,...c,full_path:x};try{let e=await fetch("http://127.0.0.1:5001/api/get-crossplot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw Error((await e.json()).error||"Gagal mengambil data");w(await e.json())}catch(e){S(e instanceof Error?e.message:"Terjadi kesalahan")}finally{I(!1)}},[e,t,i,c,x]);(0,n.useEffect)(()=>{let e=g.get("x"),t=g.get("y");e&&t?(y(e),j(t),O(e,t)):R.length>0&&(y("NPHI"),j("RHOB"))},[g,O,R]);let k=(e,t)=>{let a=parseFloat(t);d({...i,[e]:isNaN(a)?"":a})},P=(e,t)=>{let a=parseFloat(t);m({...c,[e]:isNaN(a)?"":a})};return(0,l.jsxs)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-md",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:["Crossplot ",N||""," vs ",f||""]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Wells: ",e.join(", ")||"N/A"]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Intervals: ",t.join(", ")||"All"]}),(0,l.jsx)("div",{className:"p-4 border rounded-lg bg-gray-50 space-y-4 mb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["NPHI"===f&&"RHOB"===N&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h,{label:"Percentile Quartz",children:(0,l.jsx)("input",{type:"number",value:i.prcnt_qz,onChange:e=>k("prcnt_qz",e.target.value),className:"w-full p-2 border rounded-md",step:"any"})}),(0,l.jsx)(h,{label:"Percentile Water",children:(0,l.jsx)("input",{type:"number",value:i.prcnt_wtr,onChange:e=>k("prcnt_wtr",e.target.value),className:"w-full p-2 border rounded-md",step:"any"})})]}),"NPHI"===f&&("GR"===N||"GR_RAW_NORM"===N)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h,{label:"GR MA",children:(0,l.jsx)("input",{type:"number",value:c.gr_ma,onChange:e=>P("gr_ma",e.target.value),className:"w-full p-2 border rounded-md",step:"any"})}),(0,l.jsx)(h,{label:"GR SH",children:(0,l.jsx)("input",{type:"number",value:c.gr_sh,onChange:e=>P("gr_sh",e.target.value),className:"w-full p-2 border rounded-md",step:"any"})})]})]})}),(0,l.jsxs)("div",{className:"mt-4 min-h-[600px] border-2 border-dashed rounded-lg flex items-center justify-center p-2",children:[E&&(0,l.jsxs)("div",{className:"text-center text-gray-500",children:[(0,l.jsx)(s.A,{className:"animate-spin h-8 w-8 mx-auto mb-2"}),"Generating plot..."]}),_&&(0,l.jsxs)("div",{className:"text-center text-red-600 p-4",children:[(0,l.jsx)(o.A,{className:"mx-auto h-8 w-8 mb-2"}),"Error: ",_]}),!E&&!_&&v&&(0,l.jsx)(p,{data:v.data,layout:{...v.layout,autosize:!0},style:{width:"100%",height:"100%"},config:{responsive:!0},useResizeHandler:!0}),!E&&!_&&!v&&(0,l.jsx)("div",{className:"text-center text-gray-400",children:'Select axes and click "Generate Crossplot" or choose a predefined crossplot from the sidebar.'})]})]})},normalization:function(){var e;let{selectedWells:t,selectedIntervals:a}=(0,r.M)(),[o,i]=(0,n.useState)([]),d=(0,b.useRouter)(),c=(0,b.usePathname)(),[m,p]=(0,n.useState)(!1),[h,f]=(0,n.useState)({}),[y,N]=(0,n.useState)(!1),j=(null==c?void 0:c.startsWith("/data-prep"))||!1,{wellsDir:v}=(0,u.m)();(0,n.useEffect)(()=>{i(g(a))},[a]),(0,n.useEffect)(()=>{let e=async e=>{if(0===t.length||!e)return;N(!0);let l=x.env.NEXT_PUBLIC_API_URL;try{let n=await fetch("".concat(l,"/api/get-log-percentiles"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_paths:v,selected_wells:t,selected_intervals:a,log_column:e})});if(!n.ok)return void console.error("Gagal mengambil nilai persentil default dari backend.");let r=await n.json();i(e=>e.map(e=>{let t={...e.values};return Object.keys(t).forEach(a=>{"LOW_IN"===e.name&&(t[a]=r.p5),"HIGH_IN"===e.name&&(t[a]=r.p95)}),{...e,values:t}}))}catch(e){console.error("Error saat fetching percentiles:",e)}finally{N(!1)}},l=o.find(e=>"LOG_IN"===e.name),n=a[0],r=n?null==l?void 0:l.values[n]:void 0;r&&e(r)},[t,a,null==(e=o.find(e=>"LOG_IN"===e.name))?void 0:e.values[a[0]||""]]);let w=(e,t,a)=>{i(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,t]));return{...l,values:e}}return{...l,values:{...l.values,[a]:t}}}))},E=(e,t)=>{f(a=>({...a,[e]:t}))},I=async e=>{e.preventDefault(),p(!0);let l={params:o.filter(e=>e.isEnabled).reduce((e,t)=>{let l=a[0]||Object.keys(t.values)[0],n=t.values[l];return e[t.name]=n,e},{}),selected_wells:t,selected_intervals:a};console.log("Payload yang dikirim ke backend:",l);let n=x.env.NEXT_PUBLIC_API_URL;try{let e=await fetch("".concat(n,"/api/run-interval-normalization"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!e.ok){let t=await e.json();throw Error(t.error||"Server error")}let t=await e.json();console.log("Data yang sudah dinormalisasi diterima:",JSON.parse(t.data)),alert(t.message+" Hasilnya ada di console (F12)."),d.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},_=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":return"Input"===t?"bg-yellow-300":"bg-yellow-100";case"Log":return"Input"===t?"bg-cyan-400":"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}};return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"Normalize a log based on calibration parameters."}),(0,l.jsxs)("form",{onSubmit:I,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,l.jsx)("div",{className:"md:col-span-4",children:(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",t.join(", ")||"N/A"," / Intervals: ",a.length," selected"]})}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>d.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700 flex items-center justify-center",disabled:m||y,children:m||y?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[(j?["Location","Mode","Comment","Unit","Name","Value"]:["Location","Mode","Comment","Unit","Name","P"]).map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),!j&&a.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:o.map(e=>{var t,n;return(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(e.isEnabled?_(e.location,e.mode):"bg-gray-100 text-gray-400"),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap text-sm",children:e.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap text-sm",children:e.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-normal max-w-xs text-sm",children:e.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap text-sm",children:e.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold whitespace-nowrap text-sm",children:e.name}),j?(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"NORMALIZE_OPT"===e.name?(0,l.jsx)("select",{value:null!=(t=e.values.default)?t:"",onChange:t=>w(e.id,t.target.value,"default"),className:"w-full p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500",children:(0,l.jsx)("option",{value:"MIN-MAX",children:"MIN-MAX"})}):(0,l.jsx)("input",{type:"text",value:null!=(n=e.values.default)?n:"",onChange:t=>w(e.id,t.target.value,"default"),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-400",checked:!!h[e.id],onChange:t=>E(e.id,t.target.checked)})}),a.map(t=>{var a,n;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"NORMALIZE_OPT"===e.name?(0,l.jsx)("select",{value:null!=(a=e.values[t])?a:"",onChange:a=>w(e.id,a.target.value,t),className:"w-full p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500",children:(0,l.jsx)("option",{value:"MIN-MAX",children:"MIN-MAX"})}):(0,l.jsx)("input",{type:"text",value:null!=(n=e.values[t])?n:"",onChange:a=>w(e.id,a.target.value,t),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},t)})]})]},e.id)})})]})})})]})]})},"depth-matching":f.A,"vsh-calculation":function(){let{selectedIntervals:e,selectedWells:t,selectedZones:a}=(0,r.M)(),o=(0,b.useRouter)(),[i,d]=(0,n.useState)([]),[c,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({}),{setVshParams:f,wellsDir:j}=(0,u.m)(),v=a.length>0;(0,n.useEffect)(()=>{d(N(a.length>0?a:e))},[e,a]),(0,n.useEffect)(()=>{(async()=>{if(0===t.length)return;h(!0);let l=y.env.NEXT_PUBLIC_API_URL;try{let n=await fetch("".concat(l,"/api/get-gr-ma-sh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_path:j,selected_wells:t,selected_intervals:e,selected_zones:a})});if(!n.ok)return void console.error("Gagal mengambil nilai default GR dari autoplot.");let r=await n.json();d(e=>e.map(e=>{if("GR_MA"===e.name){let t=Object.fromEntries(Object.keys(e.values).map(e=>[e,r.gr_ma]));return{...e,values:t}}if("GR_SH"===e.name){let t=Object.fromEntries(Object.keys(e.values).map(e=>[e,r.gr_sh]));return{...e,values:t}}return e}))}catch(e){console.error("Error saat memanggil API get-gr-ma-sh:",e)}finally{h(!1)}})()},[t,e,a,j]);let w=(e,t,a)=>{d(l=>l.map(l=>{if(l.id!==e)return l;if(x[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},E=(e,t)=>{g(a=>({...a,[e]:t}))},I=async l=>{l.preventDefault(),m(!0);let n=v?a[0]||"default":e[0]||"default",r=i.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[n]||t.values[Object.keys(t.values)[0]];return e[t.name]=isNaN(Number(a))?a:Number(a),e},{});f({gr_ma:Number(r.GR_MA),gr_sh:Number(r.GR_SH)});let s=y.env.NEXT_PUBLIC_API_URL;try{let l=await fetch("".concat(s,"/api/run-vsh-calculation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:r,full_path:j,selected_wells:t,selected_intervals:v?[]:e,selected_zones:v?a:[]})});if(!l.ok){let e=await l.json();throw Error(e.error||"Server error")}let n=await l.json();alert(n.message||"Proses kalkulasi VSH berhasil!"),o.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{m(!1)}},_=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}};return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"VSH by Gamma Ray Method"}),(0,l.jsxs)("form",{onSubmit:I,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",t.join(", ")||"N/A"," / Intervals: ",e.length||a.length," selected"]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>o.back(),className:"px-6 py-2 rounded-md",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white bg-blue-600",disabled:c||p,children:c||p?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e)),e.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e)),a.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:i.map(t=>(0,l.jsxs)("tr",{className:"border-b",children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center ".concat(_(t.location,t.mode)),children:t.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r ".concat(_(t.location,t.mode)),children:t.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r ".concat(_(t.location,t.mode)),children:t.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r ".concat(_(t.location,t.mode)),children:t.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r ".concat(_(t.location,t.mode)),children:t.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold ".concat(_(t.location,t.mode)),children:t.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center ".concat(_(t.location,t.mode)),children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded",checked:!!x[t.id],onChange:e=>E(t.id,e.target.checked)})}),e.map(e=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:(0,l.jsx)("input",{type:"text",value:null!=(a=t.values[e])?a:"",onChange:a=>w(t.id,e,a.target.value),className:"w-full min-w-[150px] p-1 bg-white",disabled:"Output"===t.mode})},"".concat(t.id,"-").concat(e))}),v&&a.map(e=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:(0,l.jsx)("input",{type:"text",value:null!=(a=t.values[e])?a:"",onChange:a=>w(t.id,e,a.target.value),className:"w-full min-w-[150px] p-1 bg-white",disabled:"Output"===t.mode})},"".concat(t.id,"-").concat(e))})]},t.id))})]})})})]})]})},"vsh-dn-calculation":function(){let{selectedIntervals:e,selectedWells:t,selectedZones:a}=(0,r.M)(),o=(0,b.useRouter)(),[i,d]=(0,n.useState)([]),[c,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)({}),{setVshDNParams:f,wellsDir:y}=(0,u.m)(),N=a.length>0;(0,n.useEffect)(()=>{d(v(a.length>0?a:e))},[e,a]),(0,n.useEffect)(()=>{(async()=>{if(0===t.length)return;h(!0);let l=j.env.NEXT_PUBLIC_API_URL;try{let n=await fetch("".concat(l,"/api/get-intersection-point"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_path:y,selected_wells:t,selected_intervals:e,selected_zones:a})});if(!n.ok){let e=await n.json();console.error("Gagal mengambil nilai default:",e.error);return}let r=await n.json();d(e=>e.map(e=>{if("RHOB_SH"===e.name||"NPHI_SH"===e.name){let t="RHOB_SH"===e.name?r.rhob_sh:r.nphi_sh,a=Object.fromEntries(Object.keys(e.values).map(e=>[e,t]));return{...e,values:a}}return e}))}catch(e){console.error("Error saat memanggil API:",e)}finally{h(!1)}})()},[t,e,a,y]);let w=(e,t,a)=>{d(l=>l.map(l=>{if(l.id!==e)return l;if(x[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},E=(e,t)=>{g(a=>({...a,[e]:t}))},I=async l=>{l.preventDefault(),m(!0);let n=N?a[0]||"default":e[0]||"default",r=i.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[n];return e[t.name]=isNaN(Number(a))?a:String(a),e},{});f({rhob_ma:Number(r.RHOB_MA),rhob_sh:Number(r.RHOB_SH),nphi_ma:Number(r.NPHI_MA),nphi_sh:Number(r.NPHI_SH),prcnt_qz:0,prcnt_wtr:0});let s=j.env.NEXT_PUBLIC_API_URL;try{let l=await fetch("".concat(s,"/api/run-vsh-dn-calculation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:r,full_path:y,selected_wells:t,selected_intervals:N?[]:e,selected_zones:N?a:[]})});if(!l.ok){let e=await l.json();throw Error(e.error||"Server error")}let n=await l.json();alert(n.message||"Proses kalkulasi VSH berhasil!"),o.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{m(!1)}},_=(e,t)=>{switch(e){case"Interval":return"bg-green-400";case"Log":return"Input"===t?"bg-cyan-400":"bg-cyan-200";default:return"bg-white"}};return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"Volume of shale by density neutron method"}),(0,l.jsxs)("form",{onSubmit:I,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50 flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"md:col-span-4",children:(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",t.join(", ")||"N/A"," / Intervals: ",e.length||a.length," selected"]})}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>o.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700 flex items-center justify-center min-w-[80px]",disabled:c||p,children:c||p?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),e.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),a.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:i.map(t=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(t.isEnabled?_(t.location,t.mode):"bg-gray-100 text-gray-400"),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:t.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-normal max-w-xs",children:t.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold whitespace-nowrap",children:t.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-400",checked:!!x[t.id],onChange:e=>E(t.id,e.target.checked)})}),e.map(e=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:(0,l.jsx)("input",{type:"text",value:null!=(a=t.values[e])?a:"",onChange:a=>w(t.id,e,a.target.value),className:"w-full min-w-[150px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},"".concat(t.id,"-").concat(e))}),N&&a.map(e=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:(0,l.jsx)("input",{type:"text",value:null!=(a=t.values[e])?a:"",onChange:a=>w(t.id,e,a.target.value),className:"w-full min-w-[150px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},"".concat(t.id,"-").concat(e))})]},t.id))})]})})})]})]})},"porosity-calculation":function(){let{selectedWells:e,selectedIntervals:t,selectedZones:a}=(0,r.M)(),o=(0,b.useRouter)(),[i,d]=(0,n.useState)([]),[c,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)({}),[x,g]=(0,n.useState)(!1),{wellsDir:f}=(0,u.m)(),y=a.length>0;(0,n.useEffect)(()=>{d(E(a.length>0?a:t))},[t,a]),(0,n.useEffect)(()=>{(async()=>{if(0===e.length)return;g(!0);let a=w.env.NEXT_PUBLIC_API_URL;try{let l=await fetch("".concat(a,"/api/get-intersection-point"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_path:f,selected_wells:e,selected_intervals:t})});if(!l.ok){let e=await l.json();console.error("Gagal mengambil nilai default dari intersection point:",e.error);return}let n=await l.json();d(e=>e.map(e=>{if("RHOB_SH"===e.name||"NPHI_SH"===e.name){let t="RHOB_SH"===e.name?n.rhob_sh:n.nphi_sh,a=Object.fromEntries(Object.keys(e.values).map(e=>[e,t]));return{...e,values:a}}return e}))}catch(e){console.error("Error saat fetching intersection defaults:",e)}finally{g(!1)}})()},[e,t]);let N=(e,t,a)=>{d(l=>l.map(l=>{if(l.id!==e)return l;if(p[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},j=(e,t)=>{h(a=>({...a,[e]:t}))},v=async l=>{l.preventDefault(),m(!0);let n=y?a[0]||"default":t[0]||"default",r=i.filter(e=>e.isEnabled).reduce((e,t)=>{var a,l;let r=null!=(l=null!=(a=t.values[n])?a:t.values.default)?l:"";return e[t.name]=isNaN(Number(r))?r:Number(r),e},{}),s=w.env.NEXT_PUBLIC_API_URL;try{let l=await fetch("".concat(s,"/api/run-porosity-calculation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:r,full_path:f,selected_wells:e,selected_intervals:t,selected_zones:a})});if(!l.ok){let e=await l.json();throw Error(e.error||"Server error")}let n=await l.json();alert(n.message||"Proses kalkulasi Porositas berhasil!"),o.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{m(!1)}},I=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}};return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"Porosity from density-neutron using Bateman/Konen method"}),(0,l.jsxs)("form",{onSubmit:v,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50 flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"md:col-span-4",children:(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",e.join(", ")||"N/A"," / Intervals: ",t.length||a.length," selected"]})}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>o.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700 flex items-center justify-center min-w-[80px]",disabled:c||x,children:c||x?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),t.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),a.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:i.map(e=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(e.isEnabled?I(e.location,e.mode):"bg-gray-100 text-gray-400"),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:e.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:e.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:e.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-normal max-w-xs",children:e.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:e.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold whitespace-nowrap",children:e.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-400",checked:!!p[e.id],onChange:t=>j(e.id,t.target.checked)})}),t.map(t=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:(0,l.jsx)("input",{type:"text",value:null!=(a=e.values[t])?a:"",onChange:a=>N(e.id,t,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},t)}),y&&a.map(t=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:(0,l.jsx)("input",{type:"text",value:null!=(a=e.values[t])?a:"",onChange:a=>N(e.id,t,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},t)})]},e.id))})]})})})]})]})},"sw-calculation":function(){let{selectedIntervals:e,selectedWells:t,wellColumns:a,selectedZones:o}=(0,r.M)(),i=(0,b.useRouter)(),[d,c]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),{wellsDir:g}=(0,u.m)(),f=o.length>0;(0,n.useEffect)(()=>{c(_(o.length>0?o:e))},[e,o]);let y=t.flatMap(e=>a[e]||[]),N=(e,t,a)=>{c(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},j=(e,t)=>{x(a=>({...a,[e]:t}))},v=async a=>{a.preventDefault(),p(!0);let l=f?o[0]||"default":e[0]||"default",n=d.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[l||"default"]||t.values[Object.keys(t.values)[0]];return e[t.name]=isNaN(Number(a))?a:Number(a),e},{}),r=I.env.NEXT_PUBLIC_API_URL;try{let a=await fetch("".concat(r,"/api/run-sw-calculation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:n,full_path:g,selected_wells:t,selected_intervals:e,selected_zones:o})});if(!a.ok){let e=await a.json();throw Error(e.error||"Server error")}let l=await a.json();alert(l.message||"Proses kalkulasi SW berhasil!"),i.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},w=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}};return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"Water Saturation Input Parameters"}),(0,l.jsxs)("form",{onSubmit:v,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50 flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-x-6 gap-y-4 items-start",children:(0,l.jsx)("div",{className:"md:col-span-4",children:(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",t+", "," / Intervals: ",e.length||o.length," selected"]})})}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>i.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700",disabled:m,children:m?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),e.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),o.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:d.map(t=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(t.isEnabled?w(t.location,t.mode):"bg-gray-100 text-gray-400"),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:t.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-normal max-w-xs",children:t.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold whitespace-nowrap",children:t.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-400",checked:!!h[t.id],onChange:e=>j(t.id,e.target.checked)})}),e.map(e=>{var a,n,r,s;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"OPT_GR"===t.name?(0,l.jsx)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:(0,l.jsx)("option",{value:"LINEAR",children:"LINEAR"})}):"GR"===t.name?(()=>{var a,n;let r=y.filter(e=>e.toUpperCase().includes("GR"));return(0,l.jsxs)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[0===r.length&&(0,l.jsx)("option",{value:"",children:"No match"}),r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})():(0,l.jsx)("input",{type:"text",value:null!=(s=null!=(r=t.values[e])?r:t.values.default)?s:"",onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},"".concat(t.id,"-").concat(e))}),f&&o.map(e=>{var a,n,r,s;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"OPT_GR"===t.name?(0,l.jsx)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:(0,l.jsx)("option",{value:"LINEAR",children:"LINEAR"})}):"GR"===t.name?(()=>{var a,n;let r=y.filter(e=>e.toUpperCase().includes("GR"));return(0,l.jsxs)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[0===r.length&&(0,l.jsx)("option",{value:"",children:"No match"}),r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})():(0,l.jsx)("input",{type:"text",value:null!=(s=null!=(r=t.values[e])?r:t.values.default)?s:"",onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},"".concat(t.id,"-").concat(e))})]},t.id))})]})})})]})]})},"sw-simandoux":function(){let{selectedIntervals:e,selectedWells:t,wellColumns:a,selectedZones:o}=(0,r.M)(),i=(0,b.useRouter)(),[d,c]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),{wellsDir:g}=(0,u.m)(),f=o.length>0;(0,n.useEffect)(()=>{c(Z(o.length>0?o:e))},[e,o]);let y=t.flatMap(e=>a[e]||[]),N=(e,t,a)=>{c(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},j=(e,t)=>{x(a=>({...a,[e]:t}))},v=async a=>{a.preventDefault(),p(!0);let l=f?o[0]||"default":e[0]||"default",n=d.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[l||"default"]||t.values[Object.keys(t.values)[0]];return e[t.name]=isNaN(Number(a))?a:Number(a),e},{}),r=J.env.NEXT_PUBLIC_API_URL;try{let a=await fetch("".concat(r,"/api/run-sw-calculation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:n,full_path:g,selected_wells:t,selected_intervals:e,selected_zones:o})});if(!a.ok){let e=await a.json();throw Error(e.error||"Server error")}let l=await a.json();alert(l.message||"Proses kalkulasi SW berhasil!"),i.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},w=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}};return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"Water Saturation Input Parameters"}),(0,l.jsxs)("form",{onSubmit:v,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50 flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-x-6 gap-y-4 items-start",children:(0,l.jsx)("div",{className:"md:col-span-4",children:(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",t+", "," / Intervals: ",e.length||o.length," selected"]})})}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>i.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700",disabled:m,children:m?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),e.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),o.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:d.map(t=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(t.isEnabled?w(t.location,t.mode):"bg-gray-100 text-gray-400"),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:t.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-normal max-w-xs",children:t.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold whitespace-nowrap",children:t.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-400",checked:!!h[t.id],onChange:e=>j(t.id,e.target.checked)})}),e.map(e=>{var a,n,r,s;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"OPT_GR"===t.name?(0,l.jsx)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:(0,l.jsx)("option",{value:"LINEAR",children:"LINEAR"})}):"GR"===t.name?(()=>{var a,n;let r=y.filter(e=>e.toUpperCase().includes("GR"));return(0,l.jsxs)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[0===r.length&&(0,l.jsx)("option",{value:"",children:"No match"}),r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})():(0,l.jsx)("input",{type:"text",value:null!=(s=null!=(r=t.values[e])?r:t.values.default)?s:"",onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},"".concat(t.id,"-").concat(e))}),f&&o.map(e=>{var a,n,r,s;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"OPT_GR"===t.name?(0,l.jsx)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:(0,l.jsx)("option",{value:"LINEAR",children:"LINEAR"})}):"GR"===t.name?(()=>{var a,n;let r=y.filter(e=>e.toUpperCase().includes("GR"));return(0,l.jsxs)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[0===r.length&&(0,l.jsx)("option",{value:"",children:"No match"}),r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})():(0,l.jsx)("input",{type:"text",value:null!=(s=null!=(r=t.values[e])?r:t.values.default)?s:"",onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},"".concat(t.id,"-").concat(e))})]},t.id))})]})})})]})]})},"water-resistivity-calculation":function(){let{selectedIntervals:e,selectedWells:t,wellColumns:a,selectedZones:o}=(0,r.M)(),i=(0,b.useRouter)(),[d,c]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),g=o.length>0,{wellsDir:f}=(0,u.m)();(0,n.useEffect)(()=>{c(R(o.length>0?o:e))},[e,o]);let y=t.flatMap(e=>a[e]||[]),N=(e,t,a)=>{c(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},j=(e,t)=>{x(a=>({...a,[e]:t}))},v=async a=>{a.preventDefault(),p(!0);let l=g?o[0]||"default":e[0]||"default",n=d.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[l]||t.values.default||"";return e[t.name]=isNaN(Number(a))?a:Number(a),e},{}),r=S.env.NEXT_PUBLIC_API_URL;try{let a=await fetch("".concat(r,"/api/run-rwa-calculation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:n,full_path:f,selected_wells:t,selected_intervals:e,selected_zones:o})});if(!a.ok){let e=await a.json();throw Error(e.error||"Server error")}let l=await a.json();alert(l.message||"Proses kalkulasi RW berhasil!"),i.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},w=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}};return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"Water Resistivity Input Parameters"}),(0,l.jsxs)("form",{onSubmit:v,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50 flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-x-6 gap-y-4 items-start",children:(0,l.jsx)("div",{className:"md:col-span-4",children:(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",t+", "," / Intervals: ",e.length||o.length," selected"]})})}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>i.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700",disabled:m,children:m?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),e.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),o.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:d.map(t=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(t.isEnabled?w(t.location,t.mode):"bg-gray-100 text-gray-400"),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:t.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-normal max-w-xs",children:t.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap",children:t.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold whitespace-nowrap",children:t.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-400",checked:!!h[t.id],onChange:e=>j(t.id,e.target.checked)})}),e.map(e=>{var a,n,r,s;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"OPT_GR"===t.name?(0,l.jsx)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:(0,l.jsx)("option",{value:"LINEAR",children:"LINEAR"})}):"GR"===t.name?(()=>{var a,n;let r=y.filter(e=>e.toUpperCase().includes("GR"));return(0,l.jsxs)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[0===r.length&&(0,l.jsx)("option",{value:"",children:"No match"}),r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})():(0,l.jsx)("input",{type:"text",value:null!=(s=null!=(r=t.values[e])?r:t.values.default)?s:"",onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},"".concat(t.id,"-").concat(e))}),g&&o.map(e=>{var a,n,r,s;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"OPT_GR"===t.name?(0,l.jsx)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:(0,l.jsx)("option",{value:"LINEAR",children:"LINEAR"})}):"GR"===t.name?(()=>{var a,n;let r=y.filter(e=>e.toUpperCase().includes("GR"));return(0,l.jsxs)("select",{value:String(null!=(n=null!=(a=t.values[e])?a:t.values.default)?n:""),onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white disabled:bg-gray-100 disabled:text-gray-500",children:[0===r.length&&(0,l.jsx)("option",{value:"",children:"No match"}),r.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})})():(0,l.jsx)("input",{type:"text",value:null!=(s=null!=(r=t.values[e])?r:t.values.default)?s:"",onChange:a=>N(t.id,e,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black disabled:bg-gray-100 disabled:text-gray-500"})},"".concat(t.id,"-").concat(e))})]},t.id))})]})})})]})]})},rgsa:function(){return(0,l.jsx)(X,{moduleTitle:"RGSA (Resistivity-Gamma Ray) Calculation",apiEndpoint:"/api/run-rgsa",relevantParams:["SLIDING_WINDOW","RESWAT_MAX","RESWAT_MIN","GR","RES"]})},ngsa:function(){return(0,l.jsx)(X,{moduleTitle:"NGSA (Neutron-Gamma Ray) Calculation",apiEndpoint:"/api/run-ngsa",relevantParams:["SLIDING_WINDOW","GR","NEUT"]})},dgsa:function(){return(0,l.jsx)(X,{moduleTitle:"DGSA (Density-Gamma Ray) Calculation",apiEndpoint:"/api/run-dgsa",relevantParams:["SLIDING_WINDOW","GR","DENS"]})},"trim-data":O.A,"dns-dnsv":function(){let{selectedWells:e,selectedIntervals:t,wellColumns:a,selectedZones:o}=(0,r.M)(),i=(0,b.useRouter)(),[d,c]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),{vshDNParams:g}=(0,u.m)(),{wellsDir:f}=(0,u.m)(),y=o.length>0?o:t,N=o.length>0;(0,n.useEffect)(()=>{c(P(o.length>0?o:t))},[t,o]);let j=(0,n.useMemo)(()=>e&&0!==e.length?[...new Set(e.flatMap(e=>a[e]||[]))]:[],[e,a]),v=(e,t,a)=>{c(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},w=(e,t)=>{x(a=>({...a,[e]:t}))},E=async a=>{a.preventDefault(),p(!0);let l=N?o[0]||"default":t[0]||"default",n={params:d.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[l]||t.values[Object.keys(t.values)[0]];return e[t.name]=a,e},{}),full_path:f,selected_wells:e,selected_intervals:N?[]:t,selected_zones:N?o:[],prcnt_qz:g.prcnt_qz,prcnt_wtr:g.prcnt_wtr};console.log("Payload:",n);let r=k.env.NEXT_PUBLIC_API_URL;try{let e=await fetch("".concat(r,"/api/run-dns-dnsv"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw Error((await e.json()).error||"Server error");let t=await e.json();alert(t.message||"Proses DNS-DNSV berhasil!"),i.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},I=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}},_=N?o:t;return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"DNS - DNSV Calculation"}),(0,l.jsxs)("form",{onSubmit:E,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",e.join(", ")||"N/A"," /",N?"Zones":"Intervals",": ",y.length," selected"]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>i.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700",disabled:m,children:m?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e)),_.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:d.map(e=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(I(e.location,e.mode)),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:e.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold",children:e.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded",checked:!!h[e.id],onChange:t=>w(e.id,t.target.checked)})}),_.map(t=>{var a;let n=null!=(a=e.values[t])?a:"",r="Input"===e.mode,s=j;return"DEPTH"===e.name&&(s=j.filter(e=>e.toUpperCase().includes("DEPTH"))),"NPHI_IN"===e.name&&(s=j.filter(e=>e.toUpperCase().includes("NPHI"))),"RHOB_IN"===e.name&&(s=j.filter(e=>e.toUpperCase().includes("RHOB"))),(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:r?(0,l.jsxs)("select",{value:String(n),onChange:a=>v(e.id,t,a.target.value),className:"w-full p-1 bg-white",disabled:!e.isEnabled||"Output"===e.mode,children:[!s.includes(String(n))&&(0,l.jsx)("option",{value:String(n),children:String(n)}),s.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):(0,l.jsx)("input",{type:"text",value:String(n),onChange:a=>v(e.id,t,a.target.value),className:"w-full min-w-[100px] p-1 bg-white",disabled:!e.isEnabled||"Output"===e.mode})},t)})]},e.id))})]})})})]})]})},"rgbe-rpbe":function(){let{selectedWells:e,selectedIntervals:t,wellColumns:a,selectedZones:o}=(0,r.M)(),i=(0,b.useRouter)(),[d,c]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),{wellsDir:g}=(0,u.m)(),f=o.length>0?o:t,y=o.length>0;(0,n.useEffect)(()=>{c(H(o.length>0?o:t))},[t,o]);let N=(0,n.useMemo)(()=>e&&0!==e.length?[...new Set(e.flatMap(e=>a[e]||[]))]:[],[e,a]),j=(e,t,a)=>{c(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},v=(e,t)=>{x(a=>({...a,[e]:t}))},w=async a=>{a.preventDefault(),p(!0);let l=y?o[0]||"default":t[0]||"default",n=d.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[l]||t.values[Object.keys(t.values)[0]];return e[t.name]=a,e},{}),r=C.env.NEXT_PUBLIC_API_URL;try{let a=await fetch("".concat(r,"/api/run-rgbe-rpbe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:n,full_path:g,selected_wells:e,selected_intervals:y?[]:t,selected_zones:y?o:[]})});if(!a.ok)throw Error((await a.json()).error||"Server error");let l=await a.json();alert(l.message||"Proses RGBE-RPBE berhasil!"),i.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},E=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}},I=y?o:t;return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"RGBE - RPBE Calculation"}),(0,l.jsxs)("form",{onSubmit:w,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",e.join(", ")||"N/A"," /",y?"Zones":"Intervals",": ",f.length," selected"]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>i.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700",disabled:m,children:m?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e)),I.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:d.map(e=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(E(e.location,e.mode)),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:e.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold",children:e.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-400",checked:!!h[e.id],onChange:t=>v(e.id,t.target.checked)})}),I.map(t=>{var a;let n=null!=(a=e.values[t])?a:"",r="Input"===e.mode,s=N;return"GR_IN"===e.name&&(s=N.filter(e=>e.includes("GR"))),"IQUAL_IN"===e.name&&(s=N.filter(e=>e.includes("IQUAL"))),"PHIE_IN"===e.name&&(s=N.filter(e=>e.includes("PHIE"))),"RT_IN"===e.name&&(s=N.filter(e=>e.includes("RT"))),(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:r?(0,l.jsxs)("select",{value:String(n),onChange:a=>j(e.id,t,a.target.value),className:"w-full p-1 bg-white",disabled:!e.isEnabled,children:[!s.includes(String(n))&&(0,l.jsx)("option",{value:String(n),children:String(n)}),s.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):(0,l.jsx)("input",{type:"text",value:String(n),onChange:a=>j(e.id,t,a.target.value),className:"w-full min-w-[100px] p-1 bg-white",disabled:!e.isEnabled})},t)})]},e.id))})]})})})]})]})},"rt-ro":function(){let{selectedWells:e,selectedIntervals:t,wellColumns:a,selectedZones:o}=(0,r.M)(),i=(0,b.useRouter)(),[d,c]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),{wellsDir:g}=(0,u.m)(),f=o.length>0?o:t,y=o.length>0;(0,n.useEffect)(()=>{c(L(o.length>0?o:t))},[t,o]);let N=(0,n.useMemo)(()=>e&&0!==e.length?[...new Set(e.flatMap(e=>a[e]||[]))]:[],[e,a]),j=(e,t,a)=>{c(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},v=(e,t)=>{x(a=>({...a,[e]:t}))},w=async a=>{a.preventDefault(),p(!0);let l=y?o[0]||"default":t[0]||"default",n=d.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[l]||t.values[Object.keys(t.values)[0]];return e[t.name]=a,e},{}),r=T.env.NEXT_PUBLIC_API_URL;try{let a=await fetch("".concat(r,"/api/run-rt-r0"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:n,full_path:g,selected_wells:e,selected_intervals:y?[]:t,selected_zones:y?o:[]})});if(!a.ok)throw Error((await a.json()).error||"Server error");let l=await a.json();alert(l.message||"Proses RT-RO berhasil!"),i.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},E=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}},I=y?o:t;return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"RT-RO Calculation"}),(0,l.jsxs)("form",{onSubmit:w,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",e.join(", ")||"N/A"," /",y?"Zones":"Intervals",": ",f.length," selected"]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>i.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700",disabled:m,children:m?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e)),I.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:d.map(e=>(0,l.jsxs)("tr",{className:"border-b ".concat(E(e.location,e.mode)),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:e.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold",children:e.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded",checked:!!h[e.id],onChange:t=>v(e.id,t.target.checked)})}),I.map(t=>{var a;let n=null!=(a=e.values[t])?a:"",r="Log"===e.location&&"Input"===e.mode,s=N;return"RWA"===e.name&&(s=N.filter(e=>e.toUpperCase().includes("RWA"))),"PHIE"===e.name&&(s=N.filter(e=>e.toUpperCase().includes("PHIE"))),"VSH"===e.name&&(s=N.filter(e=>e.toUpperCase().includes("VSH"))),"RT"===e.name&&(s=N.filter(e=>e.toUpperCase().includes("RT"))),(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:r?(0,l.jsxs)("select",{value:String(n),onChange:a=>j(e.id,t,a.target.value),className:"w-full p-1 bg-white",disabled:!e.isEnabled,children:[!s.includes(String(n))&&(0,l.jsx)("option",{value:String(n),children:String(n)}),s.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):(0,l.jsx)("input",{type:"text",value:String(n),onChange:a=>j(e.id,t,a.target.value),className:"w-full min-w-[100px] p-1 bg-white",disabled:!e.isEnabled||"Output"===e.mode})},t)})]},e.id))})]})})})]})]})},swgrad:function(){let{selectedWells:e,selectedIntervals:t,wellColumns:a,selectedZones:o}=(0,r.M)(),i=(0,b.useRouter)(),[d,c]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),{wellsDir:g}=(0,u.m)(),f=o.length>0?o:t,y=o.length>0;(0,n.useEffect)(()=>{c(M(o.length>0?o:t))},[t,o]);let N=(0,n.useMemo)(()=>e&&0!==e.length?[...new Set(e.flatMap(e=>a[e]||[]))]:[],[e,a]),j=(e,t,a)=>{c(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},v=(e,t)=>{x(a=>({...a,[e]:t}))},w=async a=>{a.preventDefault(),p(!0);let l=y?o[0]||"default":t[0]||"default",n=d.filter(e=>e.isEnabled).reduce((e,t)=>{let a=t.values[l]||t.values[Object.keys(t.values)[0]];return e[t.name]=a,e},{}),r=A.env.NEXT_PUBLIC_API_URL;try{let a=await fetch("".concat(r,"/api/run-swgrad"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:n,full_path:g,selected_wells:e,selected_intervals:y?[]:t,selected_zones:y?o:[]})});if(!a.ok)throw Error((await a.json()).error||"Server error");let l=await a.json();alert(l.message||"Proses SWGRAD berhasil!"),i.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},E=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Constant":if("Input"===t)return"bg-yellow-300";return"bg-yellow-100";case"Log":if("Input"===t)return"bg-cyan-400";return"bg-cyan-200";case"Output":return"bg-yellow-600";case"Interval":return"bg-green-400";default:return"bg-white"}},I=y?o:t;return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"SWGRAD & SW Calculation"}),(0,l.jsxs)("form",{onSubmit:w,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",e.join(", ")||"N/A"," /",y?"Zones":"Intervals",": ",f.length," selected"]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>i.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700",disabled:m,children:m?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[["#","Location","Mode","Comment","Unit","Name","P"].map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e)),I.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:d.map(e=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(E(e.location,e.mode)),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:e.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r",children:e.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold",children:e.name}),(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded",checked:!!h[e.id],onChange:t=>v(e.id,t.target.checked)})}),I.map(t=>{var a;let n=null!=(a=e.values[t])?a:"",r=["PHIE","VSH","RT","FTEMP","TVDSS"].includes(e.name),s=N;return"PHIE"===e.name&&(s=N.filter(e=>e.includes("PHIE"))),"VSH"===e.name&&(s=N.filter(e=>e.includes("VSH"))),"RT"===e.name&&(s=N.filter(e=>e.includes("RT"))),(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:r?(0,l.jsxs)("select",{value:String(n),onChange:a=>j(e.id,t,a.target.value),className:"w-full p-1 bg-white",disabled:!e.isEnabled||"Output"===e.mode,children:[!s.includes(String(n))&&(0,l.jsx)("option",{value:String(n),children:String(n)}),s.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):(0,l.jsx)("input",{type:"text",value:String(n),onChange:a=>j(e.id,t,a.target.value),className:"w-full min-w-[100px] p-1 bg-white",disabled:!e.isEnabled||"Output"===e.mode})},t)})]},e.id))})]})})})]})]})},"fill-missing":G.A,smoothing:function(){let{selectedWells:e,selectedIntervals:t,wellColumns:a}=(0,r.M)(),o=(0,b.useRouter)(),i=(0,b.usePathname)(),[d,c]=(0,n.useState)([]),[m,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),[g,f]=(0,n.useState)([]),{fieldName:y,structureName:N,wellFolder:j,wellsDir:v}=(0,u.m)(),w=(null==i?void 0:i.startsWith("/data-prep"))||!1;(0,n.useEffect)(()=>{c(W(t))},[t]),(0,n.useEffect)(()=>{(async()=>{if(w&&v)try{let e=U.env.NEXT_PUBLIC_API_URL,t=await fetch("".concat(e,"/api/get-well-columns"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_path:v})});if(!t.ok)return void console.error("Failed to fetch well columns");let a=await t.json();if(a.columns){let e=new Set(["DEPTH","STRUKTUR","WELL_NAME","CALI","SP","MARKER","ZONE","RESERVOIR_CLASS"]),t=a.columns.filter(t=>!e.has(t));f(t)}}catch(e){console.error("Error fetching well columns:",e)}})()},[w,v]);let E=(0,n.useMemo)(()=>{if(w)return g;if(0===e.length)return[];let t=new Set(["DEPTH","STRUKTUR","WELL_NAME","CALI","SP","MARKER","ZONE","RESERVOIR_CLASS"]);return[...new Set(e.flatMap(e=>a[e]||[]))].filter(e=>!t.has(e))},[w,g,e,a]),I=(e,t,a)=>{c(l=>l.map(l=>{if(l.id!==e)return l;if(h[e]){let e=Object.fromEntries(Object.keys(l.values).map(e=>[e,a]));return{...l,values:e}}return{...l,values:{...l.values,[t]:a}}}))},_=(e,t)=>{x(a=>({...a,[e]:t}))},S=async a=>{a.preventDefault(),p(!0);let l=d.filter(e=>e.isEnabled).reduce((e,a)=>{let l=t[0]||Object.keys(a.values)[0],n=a.values[l];return e[a.name]=n,e},{}),n=U.env.NEXT_PUBLIC_API_URL;try{let a=await fetch("".concat(n,"/api/run-smoothing"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_path:v,params:l,selected_wells:e,selected_intervals:t})});if(!a.ok){let e=await a.json();throw Error(e.error||"Server error")}let r=await a.json();alert(r.message||"Proses smoothing berhasil!"),o.push("/dashboard")}catch(e){alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{p(!1)}},R=(e,t)=>{switch(e){case"Parameter":return"bg-orange-600";case"Log":return"Input"===t?"bg-cyan-400":"bg-cyan-200";default:return"bg-white"}},O=w?["#","Location","Mode","Comment","Unit","Name","Value"]:["#","Location","Mode","Comment","Unit","Name","P"];return(0,l.jsxs)("div",{className:"p-4 md:p-6 h-full flex flex-col bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex-shrink-0",children:"Smoothing"}),(0,l.jsxs)("form",{onSubmit:S,className:"flex-grow flex flex-col min-h-0",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,l.jsx)("div",{className:"md:col-span-4",children:(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Well: ",e.join(", ")||"N/A"," / Intervals: ",t.length," selected"]})}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:()=>o.back(),className:"px-6 py-2 rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-semibold bg-blue-600 hover:bg-blue-700 flex items-center justify-center",disabled:m,children:m?(0,l.jsx)(s.A,{className:"animate-spin"}):"Start"})]})]}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:"Parameters"}),(0,l.jsx)("div",{className:"flex-grow min-h-0 border border-gray-300 rounded-lg",children:(0,l.jsx)("div",{className:"overflow-auto h-full",children:(0,l.jsxs)("table",{className:"min-w-full text-sm table-auto",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[O.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e)),!w&&t.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border-b border-r border-gray-300 whitespace-nowrap",children:e},e))]})}),(0,l.jsx)("tbody",{className:"bg-white",children:d.map(e=>{var a,n,r;return(0,l.jsxs)("tr",{className:"border-b border-gray-200 ".concat(e.isEnabled?R(e.location,e.mode):"bg-gray-100 text-gray-400"),children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center text-sm",children:e.id}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap text-sm",children:e.location}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap text-sm",children:e.mode}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-normal max-w-xs text-sm",children:e.comment}),(0,l.jsx)("td",{className:"px-3 py-2 border-r whitespace-nowrap text-sm",children:e.unit}),(0,l.jsx)("td",{className:"px-3 py-2 border-r font-semibold whitespace-nowrap text-sm",children:e.name}),w?(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"METHOD"===e.name?(0,l.jsx)("select",{value:null!=(a=e.values.default)?a:"",onChange:t=>I(e.id,"default",t.target.value),className:"w-full p-1 bg-white text-black",children:(0,l.jsx)("option",{value:"MOVING_AVG",children:"MOVING_AVG"})}):"LOG_IN"===e.name?(0,l.jsxs)("select",{value:null!=(n=e.values.default)?n:"",onChange:t=>I(e.id,"default",t.target.value),className:"w-full p-1 bg-white text-black",children:[0===E.length&&(0,l.jsx)("option",{value:"",children:"No logs available"}),E.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):(0,l.jsx)("input",{type:"text",value:null!=(r=e.values.default)?r:"",onChange:t=>I(e.id,"default",t.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black"})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("td",{className:"px-3 py-2 border-r text-center",children:(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-400",checked:!!h[e.id],onChange:t=>_(e.id,t.target.checked)})}),t.map(t=>{var a,n,r;return(0,l.jsx)("td",{className:"px-3 py-2 border-r bg-white text-black",children:"METHOD"===e.name?(0,l.jsx)("select",{value:null!=(a=e.values[t])?a:"",onChange:a=>I(e.id,t,a.target.value),className:"w-full p-1 bg-white text-black",children:(0,l.jsx)("option",{value:"MOVING_AVG",children:"MOVING_AVG"})}):"LOG_IN"===e.name?(0,l.jsxs)("select",{value:null!=(n=e.values[t])?n:"",onChange:a=>I(e.id,t,a.target.value),className:"w-full p-1 bg-white text-black",children:[0===E.length&&(0,l.jsx)("option",{value:"",children:"No logs available"}),E.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):(0,l.jsx)("input",{type:"text",value:null!=(r=e.values[t])?r:"",onChange:a=>I(e.id,t,a.target.value),className:"w-full min-w-[100px] p-1 bg-white text-black"})},t)})]})]},e.id)})})]})})})]})]})},gwd:function(){let[e,t]=(0,n.useState)(null),[a,r]=(0,n.useState)(!0),[i,d]=(0,n.useState)(null),c=D.env.NEXT_PUBLIC_API_URL,m="".concat(c,"/api/run-gwd");return(0,n.useEffect)(()=>{(async()=>{r(!0),d(null);try{let e=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!e.ok){let t=await e.json();throw Error(t.error||"Terjadi kesalahan di server")}let a=JSON.parse(await e.json());t(a)}catch(e){d(e instanceof Error?e.message:"Terjadi kesalahan tidak dikenal")}finally{r(!1)}})()},[m]),(0,l.jsx)("div",{className:"flex-grow min-h-0 border rounded-lg shadow-inner",children:a?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500",children:[(0,l.jsx)(s.A,{className:"animate-spin h-12 w-12 text-blue-600"}),(0,l.jsx)("p",{className:"mt-4 text-lg font-semibold",children:"Running GWD..."}),(0,l.jsx)("p",{className:"text-sm",children:"Proses ini mungkin memakan waktu beberapa saat."})]}):i?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-red-600 p-4",children:[(0,l.jsx)(o.A,{className:"h-12 w-12 mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-bold",children:"An Error Occurred"}),(0,l.jsx)("p",{className:"text-sm mt-2",children:i})]}):e?(0,l.jsx)(V,{data:e.data,layout:e.layout,style:{width:"100%",height:"100%"},config:{responsive:!0},useResizeHandler:!0}):null})},"splicing-merging":B.A};function Q(e){let{moduleName:t,validModules:a}=e,n=K[t];return n&&a.includes(t)?(0,l.jsxs)("div",{className:"h-full p-4 md:p-6 bg-gray-50",children:[(0,l.jsxs)("h1",{className:"text-2xl font-bold mb-4 capitalize text-gray-800",children:[t.replace(/-/g," ")," Module"]}),(0,l.jsx)(n,{})]}):(0,l.jsx)(q,{moduleName:t})}},9075:(e,t,a)=>{Promise.resolve().then(a.bind(a,7350))}},e=>{var t=t=>e(e.s=t);e.O(0,[9,379,597,441,684,358],()=>t(9075)),_N_E=e.O()}]);