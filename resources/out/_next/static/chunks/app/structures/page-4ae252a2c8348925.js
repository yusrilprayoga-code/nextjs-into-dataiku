(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1154:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1380:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},7434:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7513:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var a=s(5155),r=s(2115),l=s(5695),c=s(1380),n=s(1154),d=s(7434),o=s(8335);function u(e){let{initialData:t}=e,s=(0,l.useRouter)(),[u]=(0,r.useState)(t),[i,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[b,v]=(0,r.useState)(null),[w,p]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!1),y=(0,o.m)(e=>e.setStructure),j=async e=>{if(i!==e){m(e),x(null),v(null),p(!0);try{let t=u.fields.find(t=>t.field_name===e);if(t){let s=t.structures.reduce((e,t)=>e+t.wells_count,0),a=t.structures.reduce((e,t)=>e+t.total_records,0);f({field_name:e,structures:t.structures.map(e=>({structure_name:e.structure_name,file_path:e.file_path,wells:e.wells,wells_count:e.wells_count,total_records:e.total_records,columns:e.columns,sample_data:[]})),total_wells:s,total_records:a,all_wells:[]})}}catch(e){console.error("Error loading field details:",e)}finally{p(!1)}}},P=async e=>{try{let t=(null==i?void 0:i.toLowerCase())||"";"adera"===t?"abab"===e.toLowerCase()||e.toLowerCase():"prabumulih"===t&&(e.toLowerCase().includes("gunung")||e.toLowerCase().includes("kemala")),y(t,e,"")}catch(e){console.error("Error calling select-structure API:",e)}s.push("/dashboard")};return(0,a.jsxs)("div",{className:"flex h-[calc(100vh-80px)] bg-gray-50 text-gray-800",children:[(0,a.jsxs)("div",{className:"w-64 flex-shrink-0 bg-white border-r border-gray-200 flex flex-col p-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-6 text-gray-800",children:"Fields"}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2",children:u.fields.map(e=>(0,a.jsxs)("button",{onClick:()=>j(e.field_name),className:"w-full flex items-center gap-3 p-3 rounded-lg text-sm font-medium transition-all duration-200 text-left border ".concat(i===e.field_name?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"hover:bg-gray-50 border-transparent hover:border-gray-200"),children:[(0,a.jsx)(c.A,{className:"w-5 h-5 ".concat(i===e.field_name?"text-blue-500":"text-gray-400")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"truncate font-medium",children:e.field_name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.structures_count," structures"]})]})]},e.field_name))})})]}),(0,a.jsxs)("div",{className:"flex-1 bg-gray-50 border-r border-gray-200 flex flex-col",children:[(0,a.jsx)("div",{className:"p-4 border-b font-semibold text-lg bg-white shadow-sm",children:i?'Structures in "'.concat(i,'"'):"Select a field to view structures"}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:w?(0,a.jsxs)("div",{className:"flex items-center justify-center h-32",children:[(0,a.jsx)(n.A,{className:"w-6 h-6 animate-spin text-blue-500"}),(0,a.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading structures..."})]}):g?(0,a.jsx)("div",{className:"bg-white m-4 rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsx)("tr",{children:(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Structure Name"})})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.structures.map(e=>(0,a.jsx)("tr",{onClick:()=>P(e.structure_name),className:"cursor-pointer transition-all duration-200 ".concat(h===e.structure_name?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"),children:(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.structure_name}),e.error&&(0,a.jsx)("div",{className:"text-xs text-red-500",children:"(Error loading)"})]})]})})},e.structure_name))})]})}):(0,a.jsx)("div",{className:"flex items-center justify-center h-32 text-gray-500",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.A,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),(0,a.jsx)("p",{children:"Select a field to view its structures"})]})})})]})]})}},8335:(e,t,s)=>{"use strict";s.d(t,{m:()=>l});var a=s(5453),r=s(6786);let l=(0,a.v)()((0,r.Zr)((e,t)=>({stagedStructure:null,qcResults:null,handledFiles:[],normalizationResults:{},selectedWell:"",selectedIntervals:[],plotData:[],plotLayout:{},isLoadingPlot:!0,plotError:null,vshParams:{gr_ma:30,gr_sh:120},vshDNParams:{rhob_ma:2.645,rhob_sh:2.61,nphi_ma:-.02,nphi_sh:.398,prcnt_qz:5,prcnt_wtr:5},wellsDir:"data/structures/adera/benuang",fieldName:"adera",structureName:"benuang",wellFolder:"BNG-057",setWellsDir:t=>{console.log("Updating wellsDir to: ".concat(t)),e({wellsDir:t})},setStructure:(t,s,a)=>{let r="data/structures/".concat(t.toLowerCase(),"/").concat(s.toLowerCase());console.log("Updating structure settings:\n          fieldName: ".concat(t.toLowerCase(),"\n          structureName: ").concat(s.toLowerCase(),"\n          wellFolder: ").concat(a.toLowerCase(),"\n          wellsDir: ").concat(r)),e({fieldName:t.toLowerCase(),structureName:s.toLowerCase(),wellFolder:a.toLowerCase(),wellsDir:r})},setStagedStructure:t=>e({stagedStructure:t}),setQcResults:t=>e({qcResults:t}),addHandledFile:t=>e(e=>({handledFiles:[...e.handledFiles,t]})),addNormalizationResult:(t,s)=>e(e=>({normalizationResults:{...e.normalizationResults,[t]:s}})),clearQcResults:()=>e({qcResults:null,handledFiles:[]}),clearNormalizationResults:()=>e({normalizationResults:{}}),clearAllData:()=>e({stagedStructure:null,qcResults:null,handledFiles:[],normalizationResults:{},vshParams:{gr_ma:30,gr_sh:120},vshDNParams:{rhob_ma:2.645,rhob_sh:2.61,nphi_ma:-.02,nphi_sh:.398,prcnt_qz:5,prcnt_wtr:5}}),setSelectedWell:s=>{e({selectedWell:s}),t().fetchPlotData(s)},toggleInterval:t=>e(e=>({selectedIntervals:e.selectedIntervals.includes(t)?e.selectedIntervals.filter(e=>e!==t):[...e.selectedIntervals,t]})),setVshParams:t=>e({vshParams:t}),setVshDNParams:t=>e({vshDNParams:t}),fetchPlotData:async e=>{}}),{name:"app-data-storage",partialize:e=>({selectedWell:e.selectedWell,selectedIntervals:e.selectedIntervals,vshParams:e.vshParams,vshDNParams:e.vshDNParams}),storage:(0,r.KU)(()=>localStorage)}))},9321:(e,t,s)=>{Promise.resolve().then(s.bind(s,7513))}},e=>{var t=t=>e(e.s=t);e.O(0,[9,441,684,358],()=>t(9321)),_N_E=e.O()}]);